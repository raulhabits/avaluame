<!--
  Generated template for the GeoPositionPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>

  <ion-navbar>
    <ion-title>Croquis</ion-title>
  </ion-navbar>

</ion-header>


<ion-content padding>

  <ion-list>
    <div id="mapa">
      <agm-map [latitude]="lat" [longitude]="lng" [zoom]="zoom" [usePanning]="true" [disableDefaultUI]="false" [zoomControl]="false"
        [mapTypeId]="mapType" (centerChange)="centerChange($event)" (zoomChange)="zoomChange($event)" (mapClick)="mapClicked($event)">

        <agm-marker (markerClick)="currentPoint" [latitude]="currentPoint.lat" [longitude]="currentPoint.lng">

        </agm-marker>
      </agm-map>
    </div>

    <button ion-button full (click)="takePicture()">
      Capturar imagen del mapa
    </button>

    <div *ngIf="img">
      <ion-list>
        <ion-item>
          Vista previa
        </ion-item>

        <ion-item>
          <img [src]="img" (load)="onLoad()" />
        </ion-item>
      </ion-list>
    </div>
    <div *ngIf="!img">
      <ion-item>
        Debe capturar la imagen del mapa para generar preview
      </ion-item>
    </div>

  </ion-list>

  <button ion-button full (click)="saveData()">
    Guardar campos
  </button>


</ion-content>